## 分表

其实分库分表的直接理解就行了

+ 分库：从单个数据库拆分成多个数据库的过程，将数据散落在多个数据库中。
+ 分表：从单张表拆分成多张表的过程，将数据散落在多张表内。

原因：提升性能、增加可用性。

### 性能方面

随着单库中的数据量越来越大、数据库的查询QPS越来越高，相应的，对数据库的读写所需要的时间也越来越多。数据库的读写性能可能会成为业务发展的瓶颈。对应的，就需要做数据库性能方面的优化。

如果数据库的查询QPS过高，就需要考虑拆库，通过分库来分担单个数据库的连接压力。比如，如果查询QPS为3500，假设单库可以支撑1000个连接数的话，那么就可以考虑拆分成4个库，来分散查询连接压力。

如果单表数据量过大，当数据量超过一定量级后，无论是对于数据查询还是数据更新，在经过索引优化等纯数据库层面的传统优化手段之后，还是可能存在性能问题。这是量变产生了质变，这时候就需要去换个思路来解决问题，比如：从数据生产源头、数据处理源头来解决问题，既然数据量很大，那我们就来个分而治之，化整为零。这就产生了分表，把数据按照一定的规则拆分成多张表，来解决单表环境下无法解决的存取性能问题。

### 高可用

单个数据库如果发生意外，很可能会丢失所有数据。尤其是云时代，很多数据库都跑在虚拟机上，如果虚拟机/宿主机发生意外，则可能造成无法挽回的损失。

因此，除了传统的 Master-Slave、Master-Master 等部署层面解决可靠性问题外，我们也可以考虑从数据拆分层面解决此问题。

### 具体选择

具体可以从表数据量和数据库读写考虑

### 设计的时候的参考

具体设计的时候不知道从哪里看了达达的博客,感觉不错

[达达O2O后台架构演进实践：从0到4000高并发请求背后的努力](https://zhuanlan.zhihu.com/p/52051192)

